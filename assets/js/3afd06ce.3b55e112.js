"use strict";(self.webpackChunkapi_docs=self.webpackChunkapi_docs||[]).push([[70472],{1872:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>l,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var r=t(85893),o=t(11151);const i={},a=void 0,s={id:"node-tracker/node-tracker.api",title:"node-tracker.api",description:'API Report File for "@snowplow/node-tracker"',source:"@site/docs/node-tracker/node-tracker.api.md",sourceDirName:"node-tracker",slug:"/node-tracker/node-tracker.api",permalink:"/snowplow-javascript-tracker/docs/node-tracker/node-tracker.api",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"node-tracker.version",permalink:"/snowplow-javascript-tracker/docs/node-tracker/markdown/node-tracker.version"}},d={},c=[{value:"API Report File for &quot;@snowplow/node-tracker&quot;",id:"api-report-file-for-snowplownode-tracker",level:2}];function u(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"api-report-file-for-snowplownode-tracker",children:'API Report File for "@snowplow/node-tracker"'}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Do not edit this file. It is a report generated by ",(0,r.jsx)(e.a,{href:"https://api-extractor.com/",children:"API Extractor"}),"."]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'\n// @public\nexport interface AdClickEvent {\n    advertiserId?: string;\n    bannerId?: string;\n    campaignId?: string;\n    clickId?: string;\n    cost?: number;\n    costModel?: "cpa" | "cpc" | "cpm";\n    impressionId?: string;\n    targetUrl: string;\n    zoneId?: string;\n}\n\n// @public\nexport interface AdConversionEvent {\n    action?: string;\n    advertiserId?: string;\n    campaignId?: string;\n    category?: string;\n    conversionId?: string;\n    cost?: number;\n    costModel?: "cpa" | "cpc" | "cpm";\n    initialValue?: number;\n    property?: string;\n}\n\n// @public\nexport interface AddToCartEvent {\n    category?: string;\n    currency?: string;\n    name?: string;\n    quantity: number;\n    sku: string;\n    unitPrice?: number;\n}\n\n// @public\nexport interface AdImpressionEvent {\n    advertiserId?: string;\n    bannerId?: string;\n    campaignId?: string;\n    cost?: number;\n    costModel?: "cpa" | "cpc" | "cpm";\n    impressionId?: string;\n    targetUrl?: string;\n    zoneId?: string;\n}\n\n// @public\nexport function buildAdClick(event: AdClickEvent): PayloadBuilder;\n\n// @public\nexport function buildAdConversion(event: AdConversionEvent): PayloadBuilder;\n\n// @public\nexport function buildAddToCart(event: AddToCartEvent): PayloadBuilder;\n\n// @public\nexport function buildAdImpression(event: AdImpressionEvent): PayloadBuilder;\n\n// @public\nexport function buildConsentGranted(event: ConsentGrantedEvent): EventPayloadAndContext;\n\n// @public\nexport function buildConsentWithdrawn(event: ConsentWithdrawnEvent): EventPayloadAndContext;\n\n// @public\nexport function buildEcommerceTransaction(event: EcommerceTransactionEvent): PayloadBuilder;\n\n// @public\nexport function buildEcommerceTransactionItem(event: EcommerceTransactionItemEvent): PayloadBuilder;\n\n// @public\nexport function buildFormFocusOrChange(event: FormFocusOrChangeEvent): PayloadBuilder;\n\n// @public\nexport function buildFormSubmission(event: FormSubmissionEvent): PayloadBuilder;\n\n// @public\nexport function buildLinkClick(event: LinkClickEvent): PayloadBuilder;\n\n// @public\nexport function buildPagePing(event: PagePingEvent): PayloadBuilder;\n\n// @public\nexport function buildPageView(event: PageViewEvent): PayloadBuilder;\n\n// @public\nexport function buildRemoveFromCart(event: RemoveFromCartEvent): PayloadBuilder;\n\n// @public\nexport function buildScreenView(event: ScreenViewEvent): PayloadBuilder;\n\n// @public\nexport function buildSelfDescribingEvent<T = Record<string, unknown>>(event: SelfDescribingEvent<T>): PayloadBuilder;\n\n// @public\nexport function buildSiteSearch(event: SiteSearchEvent): PayloadBuilder;\n\n// @public\nexport function buildSocialInteraction(event: SocialInteractionEvent): PayloadBuilder;\n\n// @public\nexport function buildStructEvent(event: StructuredEvent): PayloadBuilder;\n\n// @public\nexport type ConditionalContextProvider = FilterProvider | RuleSetProvider;\n\n// @public\nexport interface ConsentGrantedEvent {\n    description?: string;\n    expiry?: string;\n    id: string;\n    name?: string;\n    version: string;\n}\n\n// @public\nexport interface ConsentWithdrawnEvent {\n    all: boolean;\n    description?: string;\n    id?: string;\n    name?: string;\n    version?: string;\n}\n\n// @public\nexport interface ContextEvent {\n    event: Payload;\n    eventSchema: string;\n    eventType: string;\n}\n\n// @public\nexport type ContextFilter = (args?: ContextEvent) => boolean;\n\n// @public\nexport type ContextGenerator = (args?: ContextEvent) => SelfDescribingJson | SelfDescribingJson[] | undefined;\n\n// @public\nexport type ContextPrimitive = SelfDescribingJson | ContextGenerator;\n\n// @public\nexport interface CoreConfiguration {\n    /* Should payloads be base64 encoded when built */\n    // (undocumented)\n    base64?: boolean;\n    /* A list of all the plugins to include at load */\n    // (undocumented)\n    callback?: (PayloadData: PayloadBuilder) => void;\n    /* A list of all the plugins to include at load */\n    // (undocumented)\n    corePlugins?: Array<CorePlugin>;\n}\n\n// @public\nexport interface CorePlugin {\n    activateCorePlugin?: (core: TrackerCore) => void;\n    afterTrack?: (payload: Payload) => void;\n    beforeTrack?: (payloadBuilder: PayloadBuilder) => void;\n    contexts?: () => SelfDescribingJson[];\n    filter?: (payload: Payload) => boolean;\n    logger?: (logger: Logger) => void;\n}\n\n// @public\nexport interface CorePluginConfiguration {\n    /* The plugin to add */\n    // (undocumented)\n    plugin: CorePlugin;\n}\n\n// @public (undocumented)\nexport type CustomEmitter = {\n    /* Function returning custom Emitter or Emitter[] to be used. If set, other options are irrelevant */\n    customEmitter: () => Emitter | Array<Emitter>;\n};\n\n// @public\nexport interface DeviceTimestamp {\n    // (undocumented)\n    readonly type: "dtm";\n    // (undocumented)\n    readonly value: number;\n}\n\n// @public\nexport interface EcommerceTransactionEvent {\n    affiliation?: string;\n    city?: string;\n    country?: string;\n    currency?: string;\n    orderId: string;\n    shipping?: number;\n    state?: string;\n    tax?: number;\n    total: number;\n}\n\n// @public\nexport interface EcommerceTransactionItemEvent {\n    category?: string;\n    currency?: string;\n    name?: string;\n    orderId: string;\n    price: number;\n    quantity?: number;\n    sku: string;\n}\n\n// @public\nexport interface Emitter {\n    flush: () => Promise<void>;\n    input: (payload: Payload) => Promise<void>;\n    setAnonymousTracking: (anonymous: boolean) => void;\n    setBufferSize: (bufferSize: number) => void;\n    setCollectorUrl: (url: string) => void;\n}\n\n// @public (undocumented)\nexport interface EmitterConfiguration extends EmitterConfigurationBase {\n    /* The collector URL to which events will be sent */\n    // (undocumented)\n    endpoint: string;\n    /* http or https. Defaults to https */\n    // (undocumented)\n    port?: number;\n    /* http or https. Defaults to https */\n    // (undocumented)\n    protocol?: "http" | "https";\n    /* http or https. Defaults to https */\n    // (undocumented)\n    serverAnonymization?: boolean;\n}\n\n// @public (undocumented)\nexport interface EmitterConfigurationBase {\n    bufferSize?: number;\n    connectionTimeout?: number;\n    credentials?: "omit" | "same-origin" | "include";\n    customFetch?: (input: Request, options?: RequestInit) => Promise<Response>;\n    customHeaders?: Record<string, string>;\n    dontRetryStatusCodes?: number[];\n    eventMethod?: EventMethod;\n    eventStore?: EventStore;\n    idService?: string;\n    keepalive?: boolean;\n    maxGetBytes?: number;\n    maxPostBytes?: number;\n    onRequestFailure?: (data: RequestFailure, response?: Response) => void;\n    onRequestSuccess?: (data: EventBatch, response: Response) => void;\n    postPath?: string;\n    retryFailedRequests?: boolean;\n    retryStatusCodes?: number[];\n    useStm?: boolean;\n}\n\n// @public\nexport type EventBatch = Payload[];\n\n// @public\nexport type EventJson = Array<EventJsonWithKeys>;\n\n// @public\nexport type EventJsonWithKeys = {\n    keyIfEncoded: string;\n    keyIfNotEncoded: string;\n    json: Record<string, unknown>;\n};\n\n// @public (undocumented)\nexport type EventMethod = "post" | "get";\n\n// @public\nexport interface EventPayloadAndContext {\n    context: Array<SelfDescribingJson>;\n    event: PayloadBuilder;\n}\n\n// @public\nexport interface EventStore {\n    add: (payload: EventStorePayload) => Promise<number>;\n    count: () => Promise<number>;\n    getAll: () => Promise<readonly EventStorePayload[]>;\n    getAllPayloads: () => Promise<readonly Payload[]>;\n    iterator: () => EventStoreIterator;\n    removeHead: (count: number) => Promise<void>;\n}\n\n// @public (undocumented)\nexport interface EventStoreConfiguration {\n    maxSize?: number;\n}\n\n// @public\nexport interface EventStoreIterator {\n    // Warning: (ae-forgotten-export) The symbol "EventStoreIteratorNextResult" needs to be exported by the entry point index.module.d.ts\n    next: () => Promise<EventStoreIteratorNextResult>;\n}\n\n// @public (undocumented)\nexport interface EventStorePayload {\n    payload: Payload;\n    svrAnon?: boolean;\n}\n\n// @public\nexport type FilterProvider = [\nContextFilter,\nArray<ContextPrimitive> | ContextPrimitive\n];\n\n// @public\nexport type FormElement = {\n    name: string;\n    value: string | null;\n    nodeName: string;\n    type?: string | null;\n};\n\n// @public\nexport interface FormFocusOrChangeEvent {\n    elementClasses?: Array<string> | null;\n    elementId: string;\n    formId: string;\n    nodeName: string;\n    schema: "change_form" | "focus_form";\n    type?: string | null;\n    value: string | null;\n}\n\n// @public\nexport interface FormSubmissionEvent {\n    elements?: Array<FormElement>;\n    formClasses?: Array<string>;\n    formId: string;\n}\n\n// @public\nexport type JsonProcessor = (payloadBuilder: PayloadBuilder, jsonForProcessing: EventJson, contextEntitiesForProcessing: SelfDescribingJson[]) => void;\n\n// @public\nexport interface LinkClickEvent {\n    elementClasses?: Array<string>;\n    elementContent?: string;\n    elementId?: string;\n    elementTarget?: string;\n    targetUrl: string;\n}\n\n// @public (undocumented)\nexport enum LOG_LEVEL {\n    // (undocumented)\n    debug = 3,\n    // (undocumented)\n    error = 1,\n    // (undocumented)\n    info = 4,\n    // (undocumented)\n    none = 0,\n    // (undocumented)\n    warn = 2\n}\n\n// @public (undocumented)\nexport interface Logger {\n    // (undocumented)\n    debug: (message: string, ...extraParams: unknown[]) => void;\n    // (undocumented)\n    error: (message: string, error?: unknown, ...extraParams: unknown[]) => void;\n    // (undocumented)\n    info: (message: string, ...extraParams: unknown[]) => void;\n    // (undocumented)\n    setLogLevel: (level: LOG_LEVEL) => void;\n    // (undocumented)\n    warn: (message: string, error?: unknown, ...extraParams: unknown[]) => void;\n}\n\n// @public (undocumented)\nexport function newTracker(trackerConfiguration: TrackerConfiguration, emitterConfiguration: NodeEmitterConfiguration | NodeEmitterConfiguration[]): Tracker;\n\n// @public (undocumented)\nexport type NodeEmitterConfiguration = CustomEmitter | EmitterConfiguration;\n\n// @public\nexport interface PagePingEvent extends PageViewEvent {\n    maxXOffset?: number;\n    maxYOffset?: number;\n    minXOffset?: number;\n    minYOffset?: number;\n}\n\n// @public\nexport interface PageViewEvent {\n    pageTitle?: string | null;\n    pageUrl?: string | null;\n    referrer?: string | null;\n}\n\n// @public\nexport type Payload = Record<string, unknown>;\n\n// @public\nexport interface PayloadBuilder {\n    add: (key: string, value: unknown) => void;\n    addContextEntity: (entity: SelfDescribingJson) => void;\n    addDict: (dict: Payload) => void;\n    addJson: (keyIfEncoded: string, keyIfNotEncoded: string, json: Record<string, unknown>) => void;\n    build: () => Payload;\n    getJson: () => EventJson;\n    getPayload: () => Payload;\n    withJsonProcessor: (jsonProcessor: JsonProcessor) => void;\n}\n\n// @public\nexport interface RemoveFromCartEvent {\n    category?: string;\n    currency?: string;\n    name?: string;\n    quantity: number;\n    sku: string;\n    unitPrice?: number;\n}\n\n// @public\nexport type RequestFailure = {\n    events: EventBatch;\n    status?: number;\n    message?: string;\n    willRetry: boolean;\n};\n\n// @public\nexport interface RuleSet {\n    // (undocumented)\n    accept?: Array<string> | string;\n    // (undocumented)\n    reject?: Array<string> | string;\n}\n\n// @public\nexport type RuleSetProvider = [\nRuleSet,\nArray<ContextPrimitive> | ContextPrimitive\n];\n\n// @public\nexport interface ScreenViewEvent {\n    id?: string;\n    name?: string;\n}\n\n// @public\nexport interface SelfDescribingEvent<T = Record<string, unknown>> {\n    event: SelfDescribingJson<T>;\n}\n\n// @public\nexport type SelfDescribingJson<T = Record<string, unknown>> = {\n    schema: string;\n    data: T extends any[] ? never : T extends {} ? T : never;\n};\n\n// @public\nexport interface SiteSearchEvent {\n    filters?: Record<string, string | boolean>;\n    pageResults?: number;\n    terms: Array<string>;\n    totalResults?: number;\n}\n\n// @public\nexport interface SocialInteractionEvent {\n    action: string;\n    network: string;\n    target?: string;\n}\n\n// @public\nexport interface StructuredEvent {\n    // (undocumented)\n    action: string;\n    // (undocumented)\n    category: string;\n    // (undocumented)\n    label?: string;\n    // (undocumented)\n    property?: string;\n    // (undocumented)\n    value?: number;\n}\n\n// @public\nexport type Timestamp = TrueTimestamp | DeviceTimestamp | number;\n\n// @public (undocumented)\nexport interface Tracker extends TrackerCore {\n    flush: () => Promise<void>;\n    setDomainUserId: (userId: string) => void;\n    setNetworkUserId: (userId: string) => void;\n    setSessionId: (sessionId: string) => void;\n    setSessionIndex: (sessionIndex: string | number) => void;\n}\n\n// @public (undocumented)\nexport interface TrackerConfiguration {\n    /* The namespace of the tracker */\n    // (undocumented)\n    appId: string;\n    /* The application ID */\n    encodeBase64?: boolean;\n    /* The application ID */\n    // (undocumented)\n    namespace: string;\n}\n\n// @public\nexport interface TrackerCore {\n    addGlobalContexts(contexts: Array<ConditionalContextProvider | ContextPrimitive> | Record<string, ConditionalContextProvider | ContextPrimitive>): void;\n    addPayloadDict(dict: Payload): void;\n    addPayloadPair: (key: string, value: unknown) => void;\n    addPlugin(configuration: CorePluginConfiguration): void;\n    clearGlobalContexts(): void;\n    getBase64Encoding(): boolean;\n    removeGlobalContexts(contexts: Array<ConditionalContextProvider | ContextPrimitive | string>): void;\n    resetPayloadPairs(dict: Payload): void;\n    setAppId(appId: string): void;\n    setBase64Encoding(encode: boolean): void;\n    setColorDepth(depth: string): void;\n    setIpAddress(ip: string): void;\n    setLang(lang: string): void;\n    setPlatform(value: string): void;\n    setScreenResolution(width: string, height: string): void;\n    setTimezone(timezone: string): void;\n    setTrackerNamespace(name: string): void;\n    setTrackerVersion(version: string): void;\n    setUseragent(useragent: string): void;\n    setUserId(userId: string): void;\n    setViewport(width: string, height: string): void;\n    track: (pb: PayloadBuilder, context?: Array<SelfDescribingJson> | null, timestamp?: Timestamp | null) => Payload | undefined;\n}\n\n// @public\nexport interface TrueTimestamp {\n    // (undocumented)\n    readonly type: "ttm";\n    // (undocumented)\n    readonly value: number;\n}\n\n// @public (undocumented)\nexport const version: string;\n\n// (No @packageDocumentation comment for this package)\n\n'})})]})}function l(n={}){const{wrapper:e}={...(0,o.a)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(u,{...n})}):u(n)}},11151:(n,e,t)=>{t.d(e,{Z:()=>s,a:()=>a});var r=t(67294);const o={},i=r.createContext(o);function a(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:a(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);